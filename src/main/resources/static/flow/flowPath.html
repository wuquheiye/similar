<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>代办消息</title>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../bootstrop/css/bootstrap.css">


    <link rel="stylesheet" href="../use/css/bootstrap-material-datetimepicker.css" />
    <link rel="stylesheet" type="text/css" href="../use/css/default.css">
    <link rel="stylesheet" href="../use/css/common.css">
    <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="../bootstrop/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <!--日期控件-->
    <script type="text/javascript" src="../use/js/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="../use/js/bootstrap-material-datetimepicker.js"></script>
    <!--    全局配置文件-->
    <script type="text/javascript" src="../myjs/httpData.config.js"></script>
</head>
<style type="text/css">
    .flowpath:hover{
        background: #2aabd2;
    }

    .flow:hover{
        background: #2aabd2;
    }
    .flowbox{
        display: none;
    }
</style>
<body>
<div class="container-fluid">
    <!--头部-->
    <div class="container navbar-fixed-top" style="height:80px;background:white;">
        <div class="row" style="border-bottom: 2px solid gainsboro">
            <div class="col-xs-2">
                <a href="../use/index.html"><h4><span class="glyphicon glyphicon-menu-left"
                                                      aria-hidden="true"></span></h4></a>
            </div>
            <div class="col-xs-8" style="text-align: center">
                <h4><b id="title">代办消息</b></h4></div>
        </div>
        <div class="row" style="height: 35px;box-shadow: 0px 0px 2px rgba(0,0,0,0.2);">
            <ul class="list-group" style="height: 35px ;text-align: center;line-height: 35px">
                <li class="list-group-item">代办申请</li>
            </ul>
        </div>
    </div>

    <!--内容  新建流程主页-->
    <!--<div class="container" id="in_newflow" style="padding-top: 80px">-->
    <!--<div class="row flowpath" style="height: 35px;border-bottom: 1px solid gainsboro;line-height: 35px;">-->
    <!--<div class="col-xs-10 manage">-->
    <!--<span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span>人事管理-->
    <!--</div>-->
    <!--<div class="col-xs-2" style="text-align: right">-->
    <!--2-->
    <!--</div>-->
    <!--</div>-->
    <!--<div class="row flowbox" >-->
    <!--<div class="col-xs-12 flow" style="height: 35px;line-height: 35px;">-->
    <!--<a href="leave.html">请假流程</a>-->
    <!--</div>-->
    <!--<div class="col-xs-12 flow" style="height: 35px;line-height: 35px">-->
    <!--<a href="#">出差流程</a>-->
    <!--</div>-->
    <!--</div>-->
    <!--<div class="row flowpath" style="height: 35px;border-bottom: 1px solid gainsboro;line-height: 35px;">-->
    <!--<div class="col-xs-10 manage">-->
    <!--<span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span>行政管理-->
    <!--</div>-->
    <!--<div class="col-xs-2" style="text-align: right">-->
    <!--2-->
    <!--</div>-->
    <!--</div>-->
    <!--<div class="row flowbox" >-->
    <!--<div class="col-xs-12 flow" style="height: 35px;line-height: 35px">-->
    <!--请假流程-->
    <!--</div>-->
    <!--<div class="col-xs-12 flow" style="height: 35px;line-height: 35px">-->
    <!--出差流程-->
    <!--</div>-->
    <!--</div>-->
    <!--</div>-->

    <!--内容  待办事宜主页-->
    <!--<div class="container" id="in_toDoList" style="padding-top: 80px;display: none">-->
    <!--<a href="leaveCheck.html">-->
    <!--<div class="row flow"  style="border-bottom: 1px solid gainsboro">-->
    <!--<div class="col-xs-12" style="line-height: 20px">-->
    <!--<span style="background: red;width: 5px;height: 5px;border-radius: 50%;display: inline-block;"></span>貂蝉(3天)__请假申请-->
    <!--</div>-->
    <!--<div class="col-xs-12" style="line-height: 20px">-->
    <!--创建人:貂蝉-->
    <!--</div>-->
    <!--</div>-->
    <!--</a>-->

    <!--</div>-->

    <!--内容  已办事宜主页-->
    <!--<div class="container" id="in_doMatters" style="padding-top: 80px;display: none">-->
    <!--<a href="myLeave.html">-->
    <!--<div class="row flow"  style="border-bottom: 1px solid gainsboro">-->
    <!--<div class="col-xs-12" style="line-height: 20px">-->
    <!--<span style="background: red;width: 5px;height: 5px;border-radius: 50%;display: inline-block;"></span>貂蝉(3天)__请假申请-->
    <!--</div>-->
    <!--<div class="col-xs-12" style="line-height: 20px">-->
    <!--创建人:貂蝉-->
    <!--</div>-->
    <!--</div>-->
    <!--</a>-->
    <!--</div>-->

    <!--内容  代办信息-->
    <div class="container" id="in_chargeHelp" style="padding-top: 80px;">
        <!--<a href="myLeave.html">-->
        <!--<div class="row flow"  style="border-bottom: 1px solid gainsboro">-->
        <!--<div class="col-xs-12" style="line-height: 20px">-->
        <!--<span style="background: red;width: 5px;height: 5px;border-radius: 50%;display: inline-block;"></span>貂蝉(3天)__请假申请-->
        <!--</div>-->
        <!--<div class="col-xs-12" style="line-height: 20px">-->
        <!--创建人:貂蝉-->
        <!--</div>-->
        <!--</div>-->
        <!--</a>-->
    </div>

    <!--底部-->
    <!--<div class="container navbar-fixed-bottom" style="border-top:1px solid gainsboro;box-shadow: 0px 0px 2px rgba(0,0,0,0.2);">-->
    <!--<div class="row">-->
    <!--<ul class="list-group row">-->
    <!--<li class="list-group-item col-xs-3 base" style="color: #2b669a" id="newflow" >-->
    <!--<span class="glyphicon glyphicon-folder-open" style="width: 50px ;" aria-hidden="true"></span>-->
    <!--<div style="font-size: 6px">-->
    <!--新建流程-->
    <!--</div>-->
    <!--</li>-->
    <!--<li class="list-group-item col-xs-3 base" id="toDoList" >-->
    <!--<span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>-->
    <!--<div style="font-size: 6px">-->
    <!--代办事宜-->
    <!--</div>-->
    <!--</li>-->
    <!--<li class="list-group-item col-xs-3 base"  id="doMatters" >-->
    <!--<span class="glyphicon glyphicon-folder-open" style="width: 50px ;" aria-hidden="true"></span>-->
    <!--<div style="font-size: 6px">-->
    <!--已办事宜-->
    <!--</div>-->
    <!--</li>-->
    <!--<li class="list-group-item col-xs-3 base" id="myHelp" >-->
    <!--<span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>-->
    <!--<div style="font-size: 6px">-->
    <!--我的请求-->
    <!--</div>-->
    <!--</li>-->
    <!--</ul>-->
    <!--</div>-->
    <!--</div>-->
</div>
</body>
</html>
<script type="text/javascript" src="../myjs/common.js"></script>
<script>
    var chargeList;

    //缓存获取当前用户信息 , 并得到他的角色
    var loginObj = JSON.parse(window.sessionStorage.getItem("login"));
    $(function () {
        selectBacklog();
    })

    //查询需要办理的信息
    function selectBacklog() {
        let showdata ='';
        $.ajax({
            url: pageDesignControl_HOST  + "flow/seletByUid?uid="+loginObj.users.uid,
            type: "get",
            dataType: "json",
            contentType: 'application/json; charset=UTF-8',
            async: false,
            success: function(res) {
                chargeList =res.msg;
                if(res.msg!=null){
                    $.each(res.msg,function (index,value) {
                        showdata +=
                            // '<a href="chargeSkip.html?fid='+value.fid+'&ftype='+value.ftype+'">\n' +
                            '<a href="javascript:void(0)" onclick="selectFlowId('+value.fid+')">'+
                            '            <div class="row flow"  style="border-bottom: 1px solid gainsboro">\n' +
                            '                <div class="col-xs-6" style="line-height: 20px">\n' +
                            '                    <span style="background: red;width: 5px;height: 5px;border-radius: 50%;display: inline-block;">' +
                            '</span>' +flowType(value.ftype)+
                            '                </div>\n' +
                            '                <div class="col-xs-6" style="line-height: 20px;text-align: right"><b>\n' +
                            getStatus(value.fstatus)+
                            '                </b></div>\n' +
                            '                <div class="col-xs-12" style="line-height: 20px;text-align: right">\n' +
                            value.fapplyTime+
                            '                </div>\n' +
                            '            </div>\n' +
                            '        </a>';
                    })
                    $("#in_chargeHelp").html(showdata);
                }else{
                    alert("暂时无需要处理的信息")
                }
                alert(JSON.stringify(chargeList));
                alert(chargeList[0].ftype);
            },
            error: function(){
                alert("网络异常，请重试");
            }
        });
    }



    /**
     * 申请类型进入页面
     */
    function  flowTypeHtml(e){
        let flowTypeHtml='';
        let desc='';
        if(e.ftype==ftypeFlow.LEAVE.code){
            flowTypeHtml +='<div class="container-fluid">\n' +
                '    <!--头部-->\n' +
                '    <div class="container navbar-fixed-top" style="background: white">\n' +
                '        <div class="row">\n' +
                '            <div class="col-xs-2">\n' +
                '                <a href="flowPath.html"><h4><span class="glyphicon glyphicon-menu-left"\n' +
                '                                                  aria-hidden="true"></span></h4></a>\n' +
                '            </div>\n' +
                '            <div class="col-xs-8" style="text-align: center">\n' +
                '                <h4><b id="title">处理流程</b></h4></div>\n' +
                '        </div>\n' +
                '    </div>\n' +
                '    <div class="container" style="padding-top: 55px">\n' +
                '        <div class="row">\n' +
                '            <div class="col-xs-12">\n' +
                '                流程标题\n' +
                '            </div>\n' +
                '            <hr style="margin-top: 10px;margin-bottom: 10px;height:1px;width: 90%;background: #F4F4F4;margin: auto">\n' +
                '            <div class="col-xs-12" style="padding-top: 10px">\n' +
                e.uusername+'_'+ftypeFlow.LEAVE.desc+
                '            </div>\n' +
                '        </div>\n' +
                '    </div>\n' +
                '    <hr style="margin-top: 10px;margin-bottom: 10px;height:10px;width: 100%;background: #F4F4F4">\n' +
                '    <div class="container">\n' +
                '        <div class="row">\n' +
                '            <div class="col-xs-6">\n' +
                '                创建时间\n' +
                '            </div>\n' +
                '            <div class="col-xs-6">\n' +
                '                <div>\n' +
                '                        <span style="' +
                '                        border-radius: 30px;\n' +
                '                        background: ghostwhite;\n' +
                '                        text-align: right;\n' +
                '                        float: right;">'+e.fapplyTime+'</span>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '        <hr style="margin-top: 10px;margin-bottom: 10px;height:10px;width: 100%;background: #F4F4F4">\n' +
                '    </div>\n' +
                // '    <div class="container">\n' +
                // '        <div class="row">\n' +
                // '            <div class="col-xs-6">\n' +
                // '                部门\n' +
                // '            </div>\n' +
                // '            <div class="col-xs-6">\n' +
                // '                <div>\n' +
                // '                        <span style="width: 85px;\n' +
                // '                        border-radius: 30px;\n' +
                // '                        background: ghostwhite;\n' +
                // '                        text-align: center;\n' +
                // '                        float: right;">研发部</span>\n' +
                // '                </div>\n' +
                // '            </div>\n' +
                // '        </div>\n' +
                // '        <hr style="margin-top: 10px;margin-bottom: 10px;height:10px;width: 100%;background: #F4F4F4">\n' +
                // '    </div>\n' +
                '    <div class="container">\n' +
                '        <div class="row">\n' +
                '            <div class="col-xs-6">\n' +
                '                请假人\n' +
                '            </div>\n' +
                '            <div class="col-xs-6">\n' +
                '                <div>\n' +
                '                        <span style="width: 85px;\n' +
                '                        border-radius: 30px;\n' +
                '                        background: ghostwhite;\n' +
                '                        text-align: center;\n' +
                '                        float: right;">'+e.uusername+'</span>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '        <hr style="margin-top: 10px;margin-bottom: 10px;height:10px;width: 100%;background: #F4F4F4">\n' +
                '    </div>\n' +
                '    <div class="container">\n' +
                '        <div class="row">\n' +
                '            <div class="col-xs-6">\n' +
                '                申请日期\n' +
                '            </div>\n' +
                '            <div class="col-xs-6">\n' +
                '                <span style="float: right;text-align: right" >'+e.fstartTime+'</span>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '        <hr style="margin-top: 10px;margin-bottom: 10px;height:10px;width: 100%;background: #F4F4F4">\n' +
                '    </div>\n' +
                '    <!--假期-->\n' +
                '    <div class="container">\n' +
                '        <div class="row" style="height: 35px">\n' +
                '            <div class="col-xs-6" style="line-height: 35px">\n' +
                '                休假类型\n' +
                '            </div>\n' +
                '            <div class="col-xs-6" >\n' +
                +e.fleaveType+
                '            </div>\n' +
                '        </div>\n' +
                '        <hr style="margin-top: 10px;margin-bottom: 10px;height:10px;width: 100%;background: #F4F4F4">\n' +
                '    </div>\n' +
                '\n' +
                '    <!--请假info-->\n' +
                '    <div class="container">\n' +
                // '        <div class="row" style="height: 35px">\n' +
                // '            <div class="col-xs-6" style="line-height: 30px">\n' +
                // '                累计已休\n' +
                // '            </div>\n' +
                // '            <div class="col-xs-6" style="text-align: right;line-height: 30px">\n' +
                // '                3天\n' +
                // '            </div>\n' +
                // '        </div>\n' +
                // '        <hr style="margin-top: 10px;margin-bottom: 10px;height:1px;width: 90%;background: #F4F4F4;margin: auto">\n' +
                '        <div class="row" style="height: 35px">\n' +
                '            <div class="col-xs-6" style="line-height: 30px">\n' +
                '                请假开始\n' +
                '            </div>\n' +
                '            <div class="col-xs-6" style="line-height: 30px;padding-left: 0px">\n' +
                e.fstartTime+
                '            </div>\n' +
                '        </div>\n' +
                '        <hr style="margin-top: 10px;margin-bottom: 10px;height:1px;width: 90%;background: #F4F4F4;margin: auto">\n' +
                '        <div class="row" style="height: 35px">\n' +
                '            <div class="col-xs-6" style="line-height: 30px">\n' +
                '                请假结束\n' +
                '            </div>\n' +
                '            <div class="col-xs-6" style="line-height: 30px;padding-left: 0px">\n' +
                e.fendTime+
                '            </div>\n' +
                '        </div>\n' +
                '        <hr style="margin-top: 10px;margin-bottom: 10px;height:1px;width: 90%;background: #F4F4F4;margin: auto">\n' +
                '        <div class="row" style="height: 35px">\n' +
                '            <div class="col-xs-6" style="line-height: 30px">\n' +
                '                请假时长\n' +
                '            </div>\n' +
                '            <div class="col-xs-6" style="line-height: 30px;padding-left: 0px;text-align: right" id="duration">\n' +
                '                3天\n' +
                '            </div>\n' +
                '        </div>\n' +
                '        <hr style="margin-top: 10px;margin-bottom: 10px;height:1px;width: 90%;background: #F4F4F4;margin: auto">\n' +
                '        <div class="row" >\n' +
                '            <div class="col-xs-6" style="line-height: 30px">\n' +
                '                请假事由\n' +
                '            </div>\n' +
                '            <div class="col-xs-12" style="height: 130px;padding: 0px">\n' +
                '                <textarea class="form-control" style="height: 120px">'+e.fapplyReason+'</textarea>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '        <hr style="margin-top: 10px;margin-bottom: 10px;height:10px;width: 100%;background: #F4F4F4;margin: auto">\n' +
                '    </div>\n' +
                '    <!--历史休假信息-->\n' +
                '\n' +
                '    <div class="container" >\n' +
                '        <div class="row" style="height: 150px">\n' +
                '            <div class="col-xs-12" style="line-height: 35px">\n' +
                '                历史休假信息\n' +
                '            </div>\n' +
                '            <hr style="margin-top: 10px;margin-bottom: 10px;height:1px;width: 100%;background: #F4F4F4;margin: auto">\n' +
                '            <div class="col-xs-12" id="history_flow" style="height:100px;\n' +
                '                                      position: relative;\n' +
                '                                      overflow-y:scroll; overflow-x: hidden;">\n' +
                '            </div>\n' +
                '        </div>\n' +
                '    </div>\n' +
                '    <!--审批-->\n' ;
            flowTypeHtml +=flowStatus(e);
            flowTypeHtml += ' <!--底部-->\n' +
                '    <div class="container navbar-fixed-bottom">\n' +
                '        <button type="button" class="btn btn-primary btn-lg btn-block" onclick="fuidCharge('+e.fstatus+','+e.fid+')">立即办理</button>\n' +
                '    </div></div>';
            // desc=ftypeFlow.LEAVE.desc;
        }else if(e==ftypeFlow.OVERTIME.code){
            desc = ftypeFlow.OVERTIME.desc;
        }else if(e==ftypeFlow.FINANCEPAY.code){
            desc = ftypeFlow.FINANCEPAY.desc;
        }else if(e==ftypeFlow.GOOUT.code){
            desc = ftypeFlow.GOOUT.desc;
        }else if(e==ftypeFlow.SEALUSE.code){
            desc = ftypeFlow.SEALUSE.desc;
        }else if(e==ftypeFlow.SERVE.code){
            desc = ftypeFlow.SERVE.desc;
        }else if(e==ftypeFlow.ONBUSINESS.code){
            desc = ftypeFlow.ONBUSINESS.desc;
        }

        return flowTypeHtml;
    }
    //审批显示信息
    function flowStatus(e) {
        let fstatusHtml='';
        if(e.fstatus==fstatusFlow.UNTREATED.code){
            fstatusHtml ='<div class="container" style="padding-bottom: 70px">\n' +
                '    <div class="row">\n' +
                '        <div class="col-xs-12" >\n' +
                '            部门主管审批\n' +
                '        </div>\n' +
                '        <div class="col-xs-12">\n' +
                '            <div class="row">\n' +
                '                <div class="col-xs-12 " >\n' +
                '                    <select class="form-control" id="idea" style="border: 0px">\n' +
                '                        <option value="0">同意</option>\n' +
                '                        <option value="1">拒绝</option>\n' +
                '                    </select>\n' +
                '                </div>\n' +
                '                <div class="col-xs-12" id="opinion" style="display: none">\n' +
                '                    <textarea class="form-control" style="height: 120px" id="hand" placeholder="请输入拒绝意见"></textarea>\n' +
                '                </div>\n' +
                '\n' +
                '            </div>\n' +
                '        </div>\n' +
                '    </div>\n' +
                '</div>';
        }else  if(e.fstatus==fstatusFlow.CHARGEPASS.code){
            fstatusHtml='<div class="container" style="padding-bottom: 70px">\n' +
                '        <div class="row">\n' +
                '            <div class="col-xs-12">\n' +
                '                部门主管审批\n' +
                '            </div>\n' +
                '            <div class="col-xs-12">\n' +
                '                <div class="row">\n' +
                '                    <div class="col-xs-12">同意</div>\n' +
                '                    <div class="col-xs-12" style="text-align: right">'+e.fuidChargeHand+' 主管名'+'</div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '\n' +
                '        </div>\n' +
                '        <hr style="margin-top: 10px;margin-bottom: 10px;height:1px;width: 90%;background: #F4F4F4;margin: auto">\n' +
                '        <div class="row">\n' +
                '            <div class="col-xs-12">\n' +
                '                总经理审批\n' +
                '            </div>\n' +
                '            <div class="col-xs-12">\n' +
                '                <div class="row">\n' +
                '                    <div class="col-xs-12">\n' +
                '                        <select class="form-control" id="idea" style="border: 0px">\n' +
                '                            <option value="0">同意</option>\n' +
                '                            <option value="1">拒绝</option>\n' +
                '                        </select>\n' +
                '                    </div>\n' +
                '                    <div class="col-xs-12" id="opinion" style="display: none">\n' +
                '                        <textarea class="form-control" style="height: 120px" id="hand" placeholder="请输入拒绝意见"></textarea>\n' +
                '                    </div>\n' +
                '\n' +
                '                </div>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '    </div>';
        }else  if(e.fstatus==fstatusFlow.MANAGERPASS.code){
            fstatusHtml ='<div class="container" style="padding-bottom: 70px">\n' +
                '        <div class="row">\n' +
                '            <div class="col-xs-12">\n' +
                '                部门主管审批\n' +
                '            </div>\n' +
                '            <div class="col-xs-12">\n' +
                '                <div class="row">\n' +
                '                    <div class="col-xs-12">同意</div>\n' +
                '                    <div class="col-xs-12" style="text-align: right">2019-10-02 20:12:46 主管名</div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '\n' +
                '        </div>\n' +
                '        <hr style="margin-top: 10px;margin-bottom: 10px;height:1px;width: 90%;background: #F4F4F4;margin: auto">\n' +
                '        <div class="row">\n' +
                '            <div class="col-xs-12">\n' +
                '                总经理审批\n' +
                '            </div>\n' +
                '            <div class="col-xs-12">\n' +
                '                <div class="row">\n' +
                '                    <div class="col-xs-12">同意</div>\n' +
                '                    <div class="col-xs-12" style="text-align: right">2019-10-02 20:12:46 主管名</div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '        <hr style="margin-top: 10px;margin-bottom: 10px;height:1px;width: 90%;background: #F4F4F4;margin: auto">\n' +
                '        <div class="row">\n' +
                '            <div class="col-xs-12">\n' +
                '                考勤员审批\n' +
                '            </div>\n' +
                '            <div class="col-xs-12">\n' +
                '                <div class="row">\n' +
                '                    <div class="col-xs-12">\n' +
                '                        <select class="form-control" id="idea" style="border: 0px">\n' +
                '                            <option value="0">确认</option>\n' +
                '                        </select>\n' +
                '                    </div>\n' +
                '                    <div class="col-xs-12" id="opinion" style="display: none">\n' +
                '                        <textarea class="form-control" style="height: 120px" placeholder="请输入拒绝意见" id="hand"></textarea>\n' +
                '                    </div>\n' +
                '\n' +
                '                </div>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '\n' +
                '    </div>';
        }
        return fstatusHtml;
    }

    /**
     *  进入审批后台
     */
    function fuidCharge(e,r) {
        let status=$("#idea").val();
        let hand=$("#hand").val();
        let flow={
            "hand" : hand,
            "status" : status,
            "fstatus" :e,
            "fid":r
        }
        alert(JSON.stringify(flow));
        // $.ajax({
        //     url: pageDesignControl_HOST  + "flow/fuidCharge",
        //     type: "post",
        //     dataType: "json",
        //     data:JSON.stringify(flow),
        //     contentType: 'application/json; charset=UTF-8',
        //     async: false,
        //     success: function(res) {
        //         if(res!=0){
        //             alert("审批通过");
        //         }else{
        //             alert("数据异常，请重新操作")
        //         }
        //     },
        //     error: function(){
        //         alert("网络异常，请重试");
        //     }
        // });
    }

    /**
     * 查看流程信息
     * @param fid
     */
    function selectFlowId(fid) {
        let index;
        let chargeListOne;
        let showdata ='';

        $.each(chargeList,function (i,v) {
            if(fid==v.fid){
                index = i;
                return index;
            }
        })
        chargeListOne=chargeList[index];
        alert(JSON.stringify(chargeList[index]));
        showdata=flowTypeHtml(chargeListOne);
        $("body").html(showdata);
        selectLeaveAll(chargeListOne.uid);
    }





    //显示拒绝框
    $(document).on("change", "#idea", function () {
        if ($("#idea").val() == 1) {
            $("#opinion").show();
        }
    })

    // //底部栏操作
    // $(".base").click(function () {
    //     if($(this).attr("id")=='newflow'){
    //         $(".base").css("color","black");
    //         $(this).css("color","#2b669a");
    //         $("#title").text("新建流程");
    //         $("#in_toDoList").hide();
    //         $("#in_doMatters").hide();
    //         $("#in_myHelp").hide();
    //         $("#in_newflow").show();
    //     }else if($(this).attr("id")=='toDoList'){
    //         $(".base").css("color","black")
    //         $(this).css("color","#2b669a");
    //         $("#title").text("待办事宜");
    //         $("#in_newflow").hide();
    //         $("#in_doMatters").hide();
    //         $("#in_myHelp").hide();
    //         $("#in_toDoList").show();
    //     }else if($(this).attr("id")=='doMatters'){
    //         $(".base").css("color","black")
    //         $(this).css("color","#2b669a");
    //         $("#title").text("已办事宜");
    //         $("#in_toDoList").hide();
    //         $("#in_newflow").hide();
    //         $("#in_myHelp").hide();
    //         $("#in_doMatters").show();
    //     }else if($(this).attr("id")=='myHelp'){
    //         $(".base").css("color","black")
    //         $(this).css("color","#2b669a");
    //         $("#title").text("我的请求");
    //         $("#in_toDoList").hide();
    //         $("#in_doMatters").hide();
    //         $("#in_newflow").hide();
    //         $("#in_myHelp").show();
    //     }
    //
    //     // if($(this).css("color")=='#2b669a'){
    //     //     alert("asfafa")
    //     //     $(this).css("color","black");
    //     // }else{
    //     //     $(this).css("color",'#2b669a');
    //     // }
    // })
</script>